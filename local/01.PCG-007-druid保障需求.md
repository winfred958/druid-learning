# PCG 007 druid 保障

## 用户关心问题 
- 出了问题怎样快速解决
  - 1.保障实时数据摄入稳定性, 不能停止或延迟;
    - 不能容忍数据摄入停止和延迟
    - 可以容忍拆集群
  - 2.保障一定qps下查询稳定;
  - 3.资源预留buffer50%, 达到瓶颈告知;
  
## 保障
  - druid数据摄入稳定性, 任何系统不能100%保障无故障 - (故障不可避免,只能尽量缩短恢复时间)
    - 可提前规避的task故障
      - deepStorage 故障或资源不足
        - 例如 hdfs 空间不足, 造成 task handoff阻塞, task失败
      - 机器物理硬件选择不合理
        - 例如使用机械盘, 造成task ingestion IO瓶颈
      - 组件配置不合理
    - 不可预知的故障
      - 上游 kafka 端异常
        - kafka broker 故障,consumer group rebalance造成消费阻塞
      - 网络/druid节点 故障
      - 数据量暴增
        - 数据量暴增造成task失败
      - ingestion task 配置不合理
        - task 数过多, 造成 middleManager或overload压力过大, OOM 或响应超时
        - 在数据量暴增时, 由于配置不合理造成ingestion task故障, 这里我们会给出常见问题,和推荐配置的文档
  - 
     